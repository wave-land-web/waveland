@import 'tailwindcss';

@font-face {
  font-family: 'Monaspace Argon Var';
  src:
    url('/fonts/monaspace-argon-var-regular.woff2') format('woff2'),
    url('/fonts/monaspace-argon-var-regular.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: block;
}

@font-face {
  font-family: 'Poppins Regular';
  src:
    url('/fonts/poppins-regular.woff2') format('woff2'),
    url('/fonts/poppins-regular.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: block;
}

@theme {
  --color-white: #fffafa;
  --color-black: var(--color-gray-950);
  --color-darkBlue: var(--color-gray-900);
  --color-purple: var(--color-purple-500);
  --color-green: var(--color-teal-300);
  --color-orange: var(--color-red-400);
  --color-lightGrey: var(--color-gray-300);
  --color-grey: var(--color-gray-500);
  --color-darkGrey: var(--color-gray-700);

  --font-header: 'Poppins Regular', sans-serif;
  --font-body: 'Monaspace Argon Var', monospace;

  --breakpoint-2xl: 1440px;
  --breakpoint-3xl: 1600px;
  --breakpoint-4xl: 1920px;

  --nav-height: clamp(6rem, 20vw, 8rem);
}

/* Animations */

@view-transition {
  navigation: auto;
}

@media (prefers-reduced-motion: no-preference) {
  /**
  * Required class: `lsa` (initializes animations and defaults to fade-in)
  * Note: Add `no-repeat` class to prevent animations from repeating on scroll
  */
  .lsa {
    @apply opacity-0 transform transition duration-700;

    /* Slide animations */
    &.lsa-slide-up {
      @apply translate-y-4;
    }
    &.lsa-slide-down {
      @apply -translate-y-4;
    }
    &.lsa-slide-left {
      @apply -translate-x-4;
    }
    &.lsa-slide-right {
      @apply translate-x-4;
    }
    &.lsa-slide-down-right {
      @apply -translate-x-4 -translate-y-4;
    }
    &.lsa-slide-down-left {
      @apply translate-x-4 -translate-y-4;
    }
    &.lsa-slide-up-right {
      @apply -translate-x-4 translate-y-4;
    }
    &.lsa-slide-up-left {
      @apply translate-x-4 translate-y-4;
    }

    /* Handle active state */
    &.active {
      @apply opacity-100 translate-x-0 translate-y-0;
    }
  }
}

@layer base {
  /* TODO: Get rid of these classes where possible */

  .site-link {
    @apply underline text-white hover:text-purple group-hover:text-purple transition-all duration-200 ease-in-out;
  }

  .site-link-2 {
    @apply text-purple hover:text-grey transition-all duration-200 ease-in-out;
  }

  .site-icon {
    @apply w-6 stroke-1;
  }

  .site-button {
    @apply px-4 py-3 border border-purple rounded-md shadow-sm text-purple hover:text-black hover:bg-purple transition-all duration-200 ease-in-out;
  }

  .absolute-center {
    @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
  }

  html {
    /* Scrollbar */
    scrollbar-color: var(--color-white) var(--color-darkBlue);
    scrollbar-width: thin;

    @apply font-body scroll-pt-8 scroll-smooth;
  }

  body {
    @apply text-white bg-darkBlue;
  }

  section {
    @apply py-20 md:py-28;
  }

  nav,
  header,
  main {
    @apply max-w-screen-4xl mx-auto px-4 md:px-8;
  }

  nav[data-current-url-path^='/case-studies'] [aria-label='Case Studies'],
  nav[data-current-url-path^='/pricing'] [aria-label='Pricing'],
  nav[data-current-url-path^='/blog'] [aria-label='Blog'],
  nav[data-current-url-path^='/contact'] [aria-label='Contact'] {
    @apply text-purple;
  }

  img,
  svg,
  video {
    @apply block w-full h-auto;
  }

  /* Typography */

  h1,
  h2,
  h3,
  h4,
  h5 {
    @apply font-header text-balance;
  }

  h1,
  .h1 {
    @apply text-5xl md:text-6xl leading-tight;
  }

  h2,
  .h2 {
    @apply text-4xl lg:text-5xl leading-normal;
  }

  h3,
  .h3 {
    @apply text-3xl md:text-4xl;
  }

  p {
    @apply text-pretty text-base md:text-lg;
  }

  a {
    @apply transition-all duration-200 ease-in-out;
  }

  p,
  a,
  button {
    @apply text-lg md:text-xl;
  }

  button {
    @apply cursor-pointer;
  }

  input,
  textarea {
    @apply text-lightGrey;
  }

  /* Blog + Case Studies */

  #blog-layout h2,
  #case-study h2:not(:first-of-type) {
    @apply mt-[1lh];
  }

  #blog-layout,
  #case-study {
    & h3,
    & h4,
    & h5,
    & h6,
    & img {
      @apply mt-[1lh];
    }

    & h2 {
      @apply text-3xl md:text-4xl;
    }

    & h3 {
      @apply text-2xl md:text-3xl;
    }

    & a:not(.site-button):not(nav a) {
      /** 
      * Markdown bug because of remark-reading-time.mjs -- .site-link-2 isn't recognized 
      * Manually adding link styles here
      * See: https://docs.astro.build/en/reference/errors/csssyntax-error/
      */
      @apply text-purple hover:text-grey;
    }

    & p:not(header > p),
    & ul,
    & ol,
    & pre,
    & a:not(.site-button) {
      @apply text-base md:text-lg;
    }

    & p:not(header > p),
    & ul,
    & ol,
    & pre {
      @apply text-lightGrey;
    }

    & img,
    & pre {
      @apply block my-[1lh];
    }

    & img {
      @apply block rounded-lg;
    }

    & pre {
      @apply p-4 rounded-lg;
    }

    & ul:not(nav ul),
    & ol {
      padding-inline-start: 3rem;
    }

    & ul li:not(nav ul li) {
      @apply list-disc;
    }

    & ol li {
      @apply list-decimal;
    }

    & p code,
    & li code {
      @apply bg-purple text-black rounded-sm p-1 box-decoration-clone;
    }

    & em {
      @apply italic;
    }

    & strong {
      @apply font-black text-white;
    }
  }
}
